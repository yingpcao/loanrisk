<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>个人债务螺旋死亡模型 - 产品白皮书</title>
    <!-- 引入图标库 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #1a3c5e;    /* 央行蓝 */
            --secondary: #3498db;  /* 科技蓝 */
            --accent: #e74c3c;     /* 风险红 */
            --warning: #f39c12;    /* 预警橙 */
            --success: #27ae60;    /* 安全绿 */
            --bg: #f8f9fa;
            --card-bg: #ffffff;
            --text-main: #2c3e50;
            --text-light: #7f8c8d;
            --shadow: 0 4px 12px rgba(0,0,0,0.08);
            --radius: 12px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'PingFang SC', 'Microsoft YaHei', 'Segoe UI', sans-serif; background: var(--bg); color: var(--text-main); line-height: 1.6; display: flex; }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background: var(--primary);
            color: white;
            height: 100vh;
            position: fixed;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .logo { font-size: 1.4rem; font-weight: bold; margin-bottom: 3rem; display: flex; align-items: center; gap: 10px; }
        .nav-links li { list-style: none; margin-bottom: 0.5rem; }
        .nav-links a { 
            text-decoration: none; color: rgba(255,255,255,0.7); 
            display: block; padding: 12px; border-radius: 8px; 
            transition: 0.3s; font-size: 0.95rem;
        }
        .nav-links a:hover, .nav-links a.active { background: rgba(255,255,255,0.1); color: white; transform: translateX(5px); }
        .nav-links i { width: 25px; }

        /* Main Content */
        .main { margin-left: 260px; padding: 3rem; width: calc(100% - 260px); }
        
        /* Header */
        .header-section { margin-bottom: 3rem; border-bottom: 2px solid #e9ecef; padding-bottom: 1.5rem; }
        h1 { font-size: 2.4rem; color: var(--primary); margin-bottom: 0.5rem; }
        .subtitle { color: var(--text-light); font-size: 1.1rem; max-width: 800px; }

        /* Cards & Grid */
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 2rem; }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; margin-bottom: 2rem; }
        
        .card { background: var(--card-bg); border-radius: var(--radius); padding: 2rem; box-shadow: var(--shadow); transition: transform 0.3s; position: relative; overflow: hidden; }
        .card:hover { transform: translateY(-5px); }
        .card h3 { color: var(--primary); margin-bottom: 1rem; display: flex; align-items: center; gap: 10px; font-size: 1.2rem; }
        .card p { font-size: 0.95rem; color: #555; margin-bottom: 1rem; }

        /* Badges */
        .badge { display: inline-block; padding: 4px 10px; border-radius: 4px; font-size: 0.8rem; font-weight: bold; color: white; margin-right: 5px; }
        .badge.t1 { background: var(--primary); }
        .badge.t2 { background: var(--warning); }
        .badge.t3 { background: var(--accent); }
        .badge.tag { background: #e0e7ff; color: var(--secondary); }

        /* Feature Visualization */
        .feature-box { background: #f1f8ff; border-left: 4px solid var(--secondary); padding: 1.2rem; margin: 1rem 0; border-radius: 0 8px 8px 0; }
        .risk-box { background: #fff5f5; border-left: 4px solid var(--accent); padding: 1.2rem; margin: 1rem 0; border-radius: 0 8px 8px 0; }
        
        /* Flowchart Steps */
        .step-container { display: flex; gap: 1rem; margin-top: 2rem; }
        .step { flex: 1; background: #fff; border: 1px solid #ddd; padding: 1.5rem; border-radius: 12px; position: relative; }
        .step h4 { color: var(--secondary); margin-bottom: 0.5rem; }
        .step::after { content: "→"; position: absolute; right: -20px; top: 50%; transform: translateY(-50%); color: #ccc; font-size: 1.5rem; font-weight: bold; }
        .step:last-child::after { display: none; }

        /* Table */
        table { width: 100%; border-collapse: collapse; font-size: 0.9rem; margin-top: 1rem; }
        th { background: #f8f9fa; color: var(--text-light); font-weight: 600; text-align: left; padding: 12px; }
        td { border-bottom: 1px solid #eee; padding: 12px; }
        tr:last-child td { border: none; }

        /* Scroll Smooth */
        html { scroll-behavior: smooth; }

        /* Logic Box */
        .logic-diagram {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: #2c3e50;
            color: white;
            padding: 2rem;
            border-radius: 12px;
            margin: 2rem 0;
        }
        .logic-node { text-align: center; background: rgba(255,255,255,0.1); padding: 1rem; border-radius: 8px; width: 18%; }
        .logic-arrow { font-size: 1.5rem; color: var(--warning); }

    </style>
</head>
<body>

    <!-- Sidebar -->
    <nav class="sidebar">
        <div class="logo">
            <i class="fas fa-chart-line"></i>
            <span>DDS Model</span>
        </div>
        <ul class="nav-links">
            <li><a href="#overview" class="active"><i class="fas fa-home"></i> 模型总览</a></li>
            <li><a href="#pboc"><i class="fas fa-database"></i> 央行征信映射</a></li>
            <li><a href="#market"><i class="fas fa-university"></i> 市场风控引擎</a></li>
            <li><a href="#logic"><i class="fas fa-cogs"></i> 核心推演逻辑</a></li>
            <li><a href="#analysis"><i class="fas fa-chart-pie"></i> 风险分析产出</a></li>
        </ul>
        <div style="font-size: 0.8rem; opacity: 0.6; margin-top: auto;">
            <p>Version: 5.2 (Stable)</p>
            <p>Compatible: PBoC 2.0</p>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main">
        
        <div class="header-section" id="overview">
            <h1>个人债务螺旋死亡模型</h1>
            <p class="subtitle">Individual Debt Death Spiral Model (PBoC Compatible Edition)</p>
            <div style="margin-top: 1rem;">
                <span class="badge t1">T1 银行</span>
                <span class="badge t2">T2 消金</span>
                <span class="badge t3">T3 网贷</span>
            </div>
        </div>

        <!-- 1. 核心理念 -->
        <section class="grid-2">
            <div class="card">
                <h3><i class="fas fa-lightbulb"></i> 核心理念：流动性枯竭</h3>
                <p>本模型摒弃传统的“资产负债表衰退”理论，采用<b>现金流视角 (Cash Flow Perspective)</b>。</p>
                <div class="feature-box">
                    <strong>生存法则：</strong> 只要当期能筹集到支付利息/最低还款的资金（无论来源是存款还是借新债），违约就不会发生。
                </div>
                <div class="risk-box">
                    <strong>死亡判定：</strong> 当 [存款归零] 且 [所有渠道信贷额度耗尽] 时，只要缺口大于 1 元，即刻触发违约。
                </div>
            </div>
            <div class="card">
                <h3><i class="fas fa-sliders-h"></i> 真实世界的残酷性</h3>
                <p>模型还原了真实金融环境中的<b>不对称打击</b>：</p>
                <ul>
                    <li><i class="fas fa-check-circle" style="color:var(--success)"></i> <b>晴天送伞：</b> 优质客户额度溢出。</li>
                    <li><i class="fas fa-times-circle" style="color:var(--accent)"></i> <b>雨天收伞：</b> 一旦出现 T3（网贷）痕迹，T1（银行）立即停贷。</li>
                    <li><i class="fas fa-arrow-down" style="color:var(--warning)"></i> <b>额度衰减：</b> 多头借贷越严重，新批额度呈指数级下降。</li>
                </ul>
            </div>
        </section>

        <!-- 2. PBoC 数据结构 -->
        <h2 id="pboc" style="margin-bottom: 1.5rem; color: var(--primary);">征信数据标准映射</h2>
        <div class="card" style="margin-bottom: 2rem;">
            <p>模型底层数据结构严格对标<b>《人行二代征信报告》</b>，支持解析真实的信贷交易明细。</p>
            <table>
                <thead>
                    <tr>
                        <th width="20%">数据维度</th>
                        <th width="30%">征信代码 (PBoC)</th>
                        <th>模型映射逻辑</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><b>机构层级</b><br>(Org Tier)</td>
                        <td>
                            <code>Code 11/14/15</code> (银行)<br>
                            <code>Code 24</code> (消金)<br>
                            <code>Code 51</code> (小贷)
                        </td>
                        <td>
                            <span class="badge t1">T1</span> 利率低，风控极严（含污染阻断）<br>
                            <span class="badge t2">T2</span> 利率中，额度适中<br>
                            <span class="badge t3">T3</span> 利率高(24%+)，额度断崖式衰减
                        </td>
                    </tr>
                    <tr>
                        <td><b>账户类型</b><br>(Acct Type)</td>
                        <td>
                            <code>R1</code> (循环贷/贷记卡)<br>
                            <code>D1</code> (非循环贷/分期)<br>
                            <code>R4</code> (循环额度分账户)
                        </td>
                        <td>
                            <b>关键逻辑修正 (V5.2)：</b><br>
                            <i class="fas fa-check" style="color:green"></i> <b>R1/R2：</b> 流动性来源。在剩余额度内、未到期前可反复提现。<br>
                            <i class="fas fa-ban" style="color:red"></i> <b>D1/R4：</b> 纯负债。只进不出，偿还后额度即失效。
                        </td>
                    </tr>
                    <tr>
                        <td><b>时间维度</b></td>
                        <td>到期日期 (Maturity)</td>
                        <td>构建<b>“到期墙” (Maturity Wall)</b>，识别本金偿还洪峰。</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- 3. 市场风控引擎 -->
        <h2 id="market" style="margin-bottom: 1.5rem; color: var(--primary);">动态市场风控引擎</h2>
        <div class="logic-diagram">
            <div class="logic-node">
                <i class="fas fa-user-tag fa-2x" style="margin-bottom:10px"></i><br>
                <b>多头计数</b><br>Count(T1/T2/T3)
            </div>
            <div class="logic-arrow">→</div>
            <div class="logic-node">
                <i class="fas fa-biohazard fa-2x" style="margin-bottom:10px; color:#e74c3c"></i><br>
                <b>污染阻断</b><br>Toxic Block
            </div>
            <div class="logic-arrow">→</div>
            <div class="logic-node">
                <i class="fas fa-chart-line fa-2x" style="margin-bottom:10px"></i><br>
                <b>额度/利率计算</b><br>Decay & Penalty
            </div>
            <div class="logic-arrow">→</div>
            <div class="logic-node">
                <i class="fas fa-file-contract fa-2x" style="margin-bottom:10px"></i><br>
                <b>最终 Offer</b><br>Limit & Rate
            </div>
        </div>

        <div class="grid-3">
            <div class="card">
                <h3><i class="fas fa-shield-alt"></i> 污染阻断机制</h3>
                <p><b>逻辑：</b> 若客户持有 <span class="badge t3">T3</span> (小贷/网贷) 余额 > 0。</p>
                <p><b>结果：</b> 所有 <span class="badge t1">T1</span> (银行) 机构将<b>直接拒贷</b> (Offer = 0)。</p>
                <small style="color:red">*这是导致优质客户突然资金链断裂的常见原因。</small>
            </div>
            <div class="card">
                <h3><i class="fas fa-level-down-alt"></i> 额度衰减函数</h3>
                <p>模拟“授信总额饱和”。</p>
                <code style="background:#eee; padding:5px; display:block; margin:5px 0;">Limit = Base * (0.9 ^ Count)</code>
                <p>每多一家机构，新批额度打折。T3类机构呈断崖式下跌（如：3万 -> 3000元）。</p>
            </div>
            <div class="card">
                <h3><i class="fas fa-percentage"></i> 利率惩罚函数</h3>
                <p>风险定价逻辑。</p>
                <code style="background:#eee; padding:5px; display:block; margin:5px 0;">Rate = Base * (1.15 ^ Count)</code>
                <p>多头越严重，利率越高，直至触及 36% 红线。</p>
            </div>
        </div>

        <!-- 4. 核心推演逻辑 -->
        <h2 id="logic" style="margin-bottom: 1.5rem; color: var(--primary);">按月推演算法 (Waterfall)</h2>
        <div class="step-container">
            <div class="step">
                <h4>Step 1: 刚性支出</h4>
                <p>计算当月必须流出现金：</p>
                <ul style="font-size:0.9rem; padding-left:1.2rem;">
                    <li>基础生活费</li>
                    <li>所有存量贷款月供</li>
                    <li><b>本金到期 (Maturity Shock)</b></li>
                </ul>
            </div>
            <div class="step">
                <h4>Step 2: 缺口计算</h4>
                <p><code>Gap = 支出 - 收入</code></p>
                <p>若 Gap > 0，启动填坑程序。</p>
            </div>
            <div class="step" style="background:#fffbe6; border-color:#ffe58f">
                <h4>Step 3: 内部挖潜 (R1)</h4>
                <p>遍历存量贷款：</p>
                <ul style="font-size:0.9rem; padding-left:1.2rem;">
                    <li>筛选 <code>AccountType == R1</code></li>
                    <li>筛选 <code>Maturity > 0</code></li>
                    <li>提取剩余额度填补 Gap</li>
                </ul>
            </div>
            <div class="step" style="background:#fff0f0; border-color:#ffccc7">
                <h4>Step 4: 外部融资</h4>
                <p>若内部资金枯竭：</p>
                <ul style="font-size:0.9rem; padding-left:1.2rem;">
                    <li>按 T1 -> T2 -> T3 顺序申请</li>
                    <li>触发风控引擎(含污染阻断)</li>
                    <li>借新还旧</li>
                </ul>
            </div>
        </div>

        <!-- 5. 风险分析产出 -->
        <h2 id="analysis" style="margin-top: 3rem; margin-bottom: 1.5rem; color: var(--primary);">风险分析产出</h2>
        <section class="grid-2">
            <div class="card">
                <h3><i class="fas fa-chart-bar"></i> 静态分析：债务到期墙</h3>
                <p>在推演开始前，直接扫描所有贷款的到期日。</p>
                <div style="background:#f8f9fa; height:150px; display:flex; align-items:flex-end; justify-content:space-around; padding:10px; border-bottom:1px solid #ddd;">
                    <div style="width:10%; height:20%; background:#bdc3c7;"></div>
                    <div style="width:10%; height:80%; background:#e74c3c; position:relative;"><span style="position:absolute; top:-20px; font-size:0.8rem; color:red;">Danger</span></div>
                    <div style="width:10%; height:30%; background:#bdc3c7;"></div>
                    <div style="width:10%; height:25%; background:#bdc3c7;"></div>
                    <div style="width:10%; height:40%; background:#f39c12;"></div>
                    <div style="width:10%; height:20%; background:#bdc3c7;"></div>
                </div>
                <p style="margin-top:10px; font-size:0.9rem;">直观展示未来24个月中，哪个月份会出现超过收入能力的本金偿还洪峰。</p>
            </div>
            <div class="card">
                <h3><i class="fas fa-layer-group"></i> 动态推演：债务堆叠图</h3>
                <p>展示随着时间推移，债务结构的恶化过程。</p>
                <div style="background:#f8f9fa; height:150px; position:relative; overflow:hidden;">
                    <!-- CSS Simulating Area Chart -->
                    <div style="position:absolute; bottom:0; left:0; width:100%; height:30%; background:rgba(52, 152, 219, 0.5);"></div>
                    <div style="position:absolute; bottom:30%; left:0; width:100%; height:20%; background:rgba(243, 156, 18, 0.5); clip-path: polygon(0 100%, 100% 0, 100% 100%, 0 100%);"></div>
                    <div style="position:absolute; bottom:30%; left:50%; width:50%; height:60%; background:rgba(231, 76, 60, 0.6); clip-path: polygon(0 100%, 100% 0, 100% 100%, 0 100%);"></div>
                </div>
                <p style="margin-top:10px; font-size:0.9rem;">清晰可见 <span style="color:#3498db">T1(蓝)</span> 被抽贷压缩，<span style="color:#e74c3c">T3(红)</span> 爆发式增长直至违约的过程。</p>
            </div>
        </section>

    </main>

</body>
</html>